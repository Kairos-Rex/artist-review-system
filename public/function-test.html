<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠŸèƒ½æµ‹è¯•é¡µé¢</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="bg-gray-100 min-h-screen py-8">
    <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-6">
        <h1 class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
            <i class="fa fa-check-circle text-green-500"></i>
            åŠŸèƒ½æµ‹è¯•éªŒè¯
        </h1>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- åŸºç¡€åŠŸèƒ½æµ‹è¯• -->
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                <h2 class="text-lg font-semibold text-blue-800 mb-4">
                    <i class="fa fa-cogs"></i>
                    åŸºç¡€åŠŸèƒ½æµ‹è¯•
                </h2>
                <div class="space-y-3">
                    <button onclick="testButtonClick()" class="w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors">
                        <i class="fa fa-mouse-pointer mr-2"></i>
                        æµ‹è¯•æŒ‰é’®å“åº”
                    </button>
                    <button onclick="testJavaScript()" class="w-full px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors">
                        <i class="fa fa-code mr-2"></i>
                        æµ‹è¯•JavaScriptæ‰§è¡Œ
                    </button>
                    <button onclick="testDOMManipulation()" class="w-full px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 transition-colors">
                        <i class="fa fa-edit mr-2"></i>
                        æµ‹è¯•DOMæ“ä½œ
                    </button>
                </div>
            </div>
            
            <!-- é…ç½®åŠŸèƒ½æµ‹è¯• -->
            <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                <h2 class="text-lg font-semibold text-green-800 mb-4">
                    <i class="fa fa-cog"></i>
                    é…ç½®åŠŸèƒ½æµ‹è¯•
                </h2>
                <div class="space-y-3">
                    <button onclick="testConfigAccess()" class="w-full px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors">
                        <i class="fa fa-database mr-2"></i>
                        æµ‹è¯•é…ç½®è®¿é—®
                    </button>
                    <button onclick="testConfigModify()" class="w-full px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors">
                        <i class="fa fa-edit mr-2"></i>
                        æµ‹è¯•é…ç½®ä¿®æ”¹
                    </button>
                    <button onclick="openMainPageConfig()" class="w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors">
                        <i class="fa fa-external-link mr-2"></i>
                        æ‰“å¼€ä¸»é¡µé¢é…ç½®
                    </button>
                </div>
            </div>
            
            <!-- äº‹ä»¶ç›‘å¬æµ‹è¯• -->
            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                <h2 class="text-lg font-semibold text-yellow-800 mb-4">
                    <i class="fa fa-bolt"></i>
                    äº‹ä»¶ç›‘å¬æµ‹è¯•
                </h2>
                <div class="space-y-3">
                    <button onclick="testEventListeners()" class="w-full px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors">
                        <i class="fa fa-headphones mr-2"></i>
                        æµ‹è¯•äº‹ä»¶ç›‘å¬å™¨
                    </button>
                    <input type="text" id="testInput" placeholder="è¾“å…¥æµ‹è¯•æ–‡æœ¬" class="w-full p-2 border rounded">
                    <button onclick="testInputEvents()" class="w-full px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 transition-colors">
                        <i class="fa fa-keyboard mr-2"></i>
                        æµ‹è¯•è¾“å…¥äº‹ä»¶
                    </button>
                </div>
            </div>
            
            <!-- æµ‹è¯•ç»“æœ -->
            <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <h2 class="text-lg font-semibold text-gray-800 mb-4">
                    <i class="fa fa-list-alt"></i>
                    æµ‹è¯•ç»“æœ
                </h2>
                <div id="testResults" class="space-y-2 text-sm max-h-64 overflow-y-auto">
                    <p class="text-gray-600">ç­‰å¾…æµ‹è¯•å¼€å§‹...</p>
                </div>
                <div class="mt-4 flex gap-2">
                    <button onclick="clearResults()" class="flex-1 px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 text-sm">
                        æ¸…é™¤ç»“æœ
                    </button>
                    <button onclick="runAllTests()" class="flex-1 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm">
                        è¿è¡Œå…¨éƒ¨æµ‹è¯•
                    </button>
                </div>
            </div>
        </div>
        
        <div class="mt-6 flex gap-3">
            <button onclick="goToMainPage()" class="flex-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors">
                <i class="fa fa-home mr-2"></i>
                è¿”å›ä¸»é¡µé¢
            </button>
            <button onclick="goToDebugPage()" class="flex-1 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors">
                <i class="fa fa-bug mr-2"></i>
                è°ƒè¯•é¡µé¢
            </button>
        </div>
    </div>
    
    <script>
        let testCount = 0;
        
        function addResult(message, type = 'info') {
            const resultsDiv = document.getElementById('testResults');
            const timestamp = new Date().toLocaleTimeString();
            const colorClass = {
                'success': 'text-green-600',
                'error': 'text-red-600',
                'warning': 'text-yellow-600',
                'info': 'text-blue-600'
            }[type] || 'text-gray-600';
            
            const resultElement = document.createElement('p');
            resultElement.className = colorClass;
            resultElement.innerHTML = `[${timestamp}] ${message}`;
            
            if (resultsDiv.children[0].textContent.includes('ç­‰å¾…æµ‹è¯•')) {
                resultsDiv.innerHTML = '';
            }
            resultsDiv.appendChild(resultElement);
            resultsDiv.scrollTop = resultsDiv.scrollHeight;
        }
        
        function testButtonClick() {
            testCount++;
            addResult(`âœ… æŒ‰é’®ç‚¹å‡»æµ‹è¯• #${testCount} - æˆåŠŸ`, 'success');
        }
        
        function testJavaScript() {
            try {
                const testArray = [1, 2, 3];
                const result = testArray.map(x => x * 2);
                addResult(`âœ… JavaScriptæ‰§è¡Œæ­£å¸¸ - æ•°ç»„æ“ä½œç»“æœ: [${result.join(', ')}]`, 'success');
            } catch (error) {
                addResult(`âŒ JavaScriptæ‰§è¡Œå¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        function testDOMManipulation() {
            try {
                const testDiv = document.createElement('div');
                testDiv.textContent = 'DOMæµ‹è¯•å…ƒç´ ';
                testDiv.style.display = 'none';
                document.body.appendChild(testDiv);
                
                if (document.body.contains(testDiv)) {
                    addResult('âœ… DOMæ“ä½œæ­£å¸¸ - å…ƒç´ åˆ›å»ºå’Œæ·»åŠ æˆåŠŸ', 'success');
                    document.body.removeChild(testDiv);
                    addResult('âœ… DOMæ“ä½œæ­£å¸¸ - å…ƒç´ åˆ é™¤æˆåŠŸ', 'success');
                } else {
                    addResult('âŒ DOMæ“ä½œå¤±è´¥ - å…ƒç´ æ·»åŠ å¤±è´¥', 'error');
                }
            } catch (error) {
                addResult(`âŒ DOMæ“ä½œå¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        function testConfigAccess() {
            try {
                // æ¨¡æ‹Ÿé…ç½®è®¿é—®ï¼ˆå› ä¸ºè¿™æ˜¯ç‹¬ç«‹é¡µé¢ï¼‰
                const mockConfig = {
                    apiKey: 'test_api_key',
                    botId: 'test_bot_id'
                };
                
                if (mockConfig.apiKey && mockConfig.botId) {
                    addResult('âœ… é…ç½®è®¿é—®æ­£å¸¸ - å¯ä»¥è¯»å–é…ç½®æ•°æ®', 'success');
                } else {
                    addResult('âŒ é…ç½®è®¿é—®å¤±è´¥ - é…ç½®æ•°æ®ä¸ºç©º', 'error');
                }
            } catch (error) {
                addResult(`âŒ é…ç½®è®¿é—®å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        function testConfigModify() {
            try {
                // æ¨¡æ‹Ÿé…ç½®ä¿®æ”¹
                let mockConfig = {
                    apiKey: 'original_key',
                    botId: 'original_id'
                };
                
                mockConfig.apiKey = 'modified_key';
                mockConfig.botId = 'modified_id';
                
                if (mockConfig.apiKey === 'modified_key' && mockConfig.botId === 'modified_id') {
                    addResult('âœ… é…ç½®ä¿®æ”¹æ­£å¸¸ - å¯ä»¥æ›´æ–°é…ç½®æ•°æ®', 'success');
                } else {
                    addResult('âŒ é…ç½®ä¿®æ”¹å¤±è´¥ - é…ç½®æ›´æ–°å¤±è´¥', 'error');
                }
            } catch (error) {
                addResult(`âŒ é…ç½®ä¿®æ”¹å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        function testEventListeners() {
            try {
                let eventTriggered = false;
                const testButton = document.createElement('button');
                testButton.addEventListener('click', function() {
                    eventTriggered = true;
                });
                
                // æ¨¡æ‹Ÿç‚¹å‡»
                testButton.click();
                
                if (eventTriggered) {
                    addResult('âœ… äº‹ä»¶ç›‘å¬å™¨æ­£å¸¸ - äº‹ä»¶å¯ä»¥æ­£ç¡®è§¦å‘', 'success');
                } else {
                    addResult('âŒ äº‹ä»¶ç›‘å¬å™¨å¤±è´¥ - äº‹ä»¶æœªè§¦å‘', 'error');
                }
            } catch (error) {
                addResult(`âŒ äº‹ä»¶ç›‘å¬å™¨æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        function testInputEvents() {
            try {
                const input = document.getElementById('testInput');
                const originalValue = input.value;
                
                // æ¨¡æ‹Ÿè¾“å…¥
                input.value = 'test input value';
                input.dispatchEvent(new Event('input'));
                
                if (input.value === 'test input value') {
                    addResult('âœ… è¾“å…¥äº‹ä»¶æ­£å¸¸ - è¾“å…¥æ¡†å¯ä»¥æ­£ç¡®æ›´æ–°', 'success');
                } else {
                    addResult('âŒ è¾“å…¥äº‹ä»¶å¤±è´¥ - è¾“å…¥æ¡†æ›´æ–°å¤±è´¥', 'error');
                }
                
                // æ¢å¤åŸå€¼
                input.value = originalValue;
            } catch (error) {
                addResult(`âŒ è¾“å…¥äº‹ä»¶æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        function openMainPageConfig() {
            addResult('ğŸ”— æ­£åœ¨æ‰“å¼€ä¸»é¡µé¢...', 'info');
            window.open('./index(5).html', '_blank');
        }
        
        function clearResults() {
            document.getElementById('testResults').innerHTML = '<p class="text-gray-600">ç­‰å¾…æµ‹è¯•å¼€å§‹...</p>';
            testCount = 0;
        }
        
        function runAllTests() {
            addResult('ğŸš€ å¼€å§‹è¿è¡Œå…¨éƒ¨æµ‹è¯•...', 'info');
            setTimeout(() => testButtonClick(), 100);
            setTimeout(() => testJavaScript(), 200);
            setTimeout(() => testDOMManipulation(), 300);
            setTimeout(() => testConfigAccess(), 400);
            setTimeout(() => testConfigModify(), 500);
            setTimeout(() => testEventListeners(), 600);
            setTimeout(() => testInputEvents(), 700);
            setTimeout(() => addResult('âœ… å…¨éƒ¨æµ‹è¯•å®Œæˆï¼', 'success'), 800);
        }
        
        function goToMainPage() {
            window.location.href = './index(5).html';
        }
        
        function goToDebugPage() {
            window.location.href = './debug-test.html';
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨è¿è¡ŒåŸºç¡€æµ‹è¯•
        document.addEventListener('DOMContentLoaded', function() {
            addResult('ğŸ“‹ åŠŸèƒ½æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ', 'info');
            addResult('ğŸ’¡ ç‚¹å‡»æŒ‰é’®å¼€å§‹æµ‹è¯•ï¼Œæˆ–ç‚¹å‡»"è¿è¡Œå…¨éƒ¨æµ‹è¯•"', 'info');
        });
        
        // æ•è·å…¨å±€é”™è¯¯
        window.addEventListener('error', function(event) {
            addResult(`ğŸš¨ å…¨å±€é”™è¯¯: ${event.error.message}`, 'error');
        });
    </script>
</body>
</html>